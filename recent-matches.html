<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LiveCricHub - Recent Matches</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>üèè International Matches</h2>
  <div id="international" class="matches-row"></div>

  <h2>üèüÔ∏è Domestic Matches</h2>
  <div id="domestic" class="matches-row"></div>

  <h2>üé≠ Leagues</h2>
  <div id="leagues" class="matches-row"></div>

  <h2>üë© Womens Matches</h2>
  <div id="womens" class="matches-row"></div>

  <script>
    async function loadAllRecentMatches() {
      try {
        const response = await fetch("https://cricbuzz-cricket.p.rapidapi.com/matches/v1/recent", {
          method: "GET",
          headers: {
            "x-rapidapi-host": "cricbuzz-cricket.p.rapidapi.com",
            "x-rapidapi-key": "9d1e65527emsh8aa17086e524d8cp13ca59jsn41d4a0125ec4"
          }
        });

        const data = await response.json();

        data.typeMatches.forEach(type => {
          let sectionId = "";

          if (type.matchType === "International") sectionId = "international";
          else if (type.matchType === "Domestic") sectionId = "domestic";
          else if (type.matchType === "League") sectionId = "leagues";
          else if (type.matchType === "Women") sectionId = "womens";

          if (sectionId) {
            const container = document.getElementById(sectionId);

            type.seriesMatches.forEach(series => {
              if (series.seriesAdWrapper) {
                series.seriesAdWrapper.matches.forEach(match => {
                  const info = match.matchInfo;
                  const score = match.matchScore;

                  const team1 = info.team1.teamName;
                  const team2 = info.team2.teamName;

                  const team1Inngs = score?.team1Score?.inngs1;
                  const team2Inngs = score?.team2Score?.inngs1;

                  const team1Score = team1Inngs ? `${team1Inngs.runs}/${team1Inngs.wickets}` : "";
                  const team1Overs = team1Inngs ? `(${team1Inngs.overs} ov)` : "";

                  const team2Score = team2Inngs ? `${team2Inngs.runs}/${team2Inngs.wickets}` : "";
                  const team2Overs = team2Inngs ? `(${team2Inngs.overs} ov)` : "";

                  const result = info.status;

                  // ‚úÖ Flag Mapping
                  
                  // ‚úÖ Flag Mapping
const teamFlags = {
  ind: "in",
  pak: "pk",
  eng: "gb",   // UK flag for England
  aus: "au",
  sa: "za",    // South Africa
  nz: "nz",
  sl: "lk",
  ban: "bd",
  afg: "af",
  wi: "jm",    // West Indies (Jamaica flag placeholder)
  ire: "ie",
  zim: "zw",
  uae: "ae"    // UAE
};

const team1Code = teamFlags[info.team1.teamSName.toLowerCase()] || "un";
const team2Code = teamFlags[info.team2.teamSName.toLowerCase()] || "un";

                  const card = `
                    <div class="match-card">
                      <div class="match-header">
                        <span class="info">RESULT ‚Ä¢ ${info.matchDesc} ‚Ä¢ ${info.venueInfo.ground}</span>
                      </div>
                      <div class="match-body">
                        <div class="team">
                          <img src="https://flagcdn.com/w40/${team1Code}.png" alt="${team1}">
                          <span class="name">${team1}</span>
                          <span class="score">${team1Score}</span>
                          <span class="overs">${team1Overs}</span>
                        </div>
                        <div class="team">
                          <img src="https://flagcdn.com/w40/${team2Code}.png" alt="${team2}">
                          <span class="name">${team2}</span>
                          <span class="score">${team2Score}</span>
                          <span class="overs">${team2Overs}</span>
                        </div>
                      </div>
                      <p class="result">${result}</p>
                    </div>
                  `;

                  container.innerHTML += card;
                });
              }
            });
          }
        });
      } catch (error) {
        console.error("Error loading all matches:", error);
      }
    }

    loadAllRecentMatches();
  </script>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f9f9f9;
      color: #333;
    }

    h2 {
      margin: 20px 0 10px;
      font-size: 20px;
      color: #222;
    }

    .matches-row {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 15px;
    }

    .match-card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      padding: 12px;
      transition: transform 0.2s;
      cursor: pointer;
    }

    .match-card:hover {
      transform: scale(1.02);
    }

    .match-header {
      font-size: 13px;
      color: #666;
      margin-bottom: 8px;
    }

    .match-body {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .team {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .team img {
  width: 40px;   /* 40px rakho */
  height: 28px;  /* proportion maintain */
  margin-bottom: 5px;
}


    .team .name {
      font-size: 14px;
      font-weight: bold;
    }

    .team .score {
      font-size: 14px;
      color: #111;
    }

    .team .overs {
      font-size: 12px;
      color: #666;
    }

    .result {
      margin-top: 8px;
      font-size: 13px;
      color: green;
      text-align: center;
    }

    /* See More Button */
    .see-more-wrapper {
      text-align: center;
      margin-top: 15px;
    }

    .see-more-btn {
      background: #007bff;
      color: white;
      border: none;
      padding: 8px 18px;
      font-size: 14px;
      border-radius: 20px;
      cursor: pointer;
      transition: 0.3s;
    }

    .see-more-btn:hover {
      background: #0056b3;
    }
  </style>
</body>
</html>
