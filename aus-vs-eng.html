<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Live Match Scorecard</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f5f5f5; margin:0; padding:20px; }
    h1 { text-align:center; margin-bottom:20px; }
    .scorecard-container { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
    .scorecard {
      background:#fff; padding:20px; border-radius:12px; width:400px;
      box-shadow:0 4px 10px rgba(0,0,0,0.1);
    }
    .team-header { display:flex; align-items:center; gap:10px; margin-bottom:10px; }
    .team-header img { width:40px; height:25px; border-radius:2px; }
    .score { font-size:18px; font-weight:bold; margin-bottom:10px; }
    table { width:100%; border-collapse:collapse; font-size:14px; margin-bottom:10px; }
    th, td { border-bottom:1px solid #ddd; padding:6px; text-align:left; }
    th { background:#f0f0f0; }
    .match-status { text-align:center; margin-top:20px; font-size:18px; font-weight:bold; color:#d32f2f; }
  </style>
</head>
<body>

  <h1>Live Cricket Match</h1>

  <div class="scorecard-container">
    <!-- Team 1 -->
    <div class="scorecard" id="team1-card">
      <div class="team-header">
        <img id="team1-flag" src="" alt="Team 1">
        <h2 id="team1-name">Team 1</h2>
      </div>
      <p class="score" id="team1-score">Loading...</p>
      <h3>Batting</h3>
      <table id="team1-batting"></table>
      <h3>Bowling</h3>
      <table id="team1-bowling"></table>
    </div>

    <!-- Team 2 -->
    <div class="scorecard" id="team2-card">
      <div class="team-header">
        <img id="team2-flag" src="" alt="Team 2">
        <h2 id="team2-name">Team 2</h2>
      </div>
      <p class="score" id="team2-score">Loading...</p>
      <h3>Batting</h3>
      <table id="team2-batting"></table>
      <h3>Bowling</h3>
      <table id="team2-bowling"></table>
    </div>
  </div>

  <p class="match-status" id="match-status">Match status loading...</p>

  <script>
    async function loadScorecard() {
      try {
        const matchId = '40381'; // Replace with actual Match ID
        const url = `https://cricbuzz-cricket.p.rapidapi.com/mcenter/v1/${matchId}/scard`;
        const res = await fetch(url, {
          method: 'GET',
          headers: {
            'X-RapidAPI-Key': 'a179ffdd2emsh471c0640ff7767fp1bff26jsn046f6d3f956c',   // apna RapidAPI key lagana
            'X-RapidAPI-Host': 'cricbuzz-cricket.p.rapidapi.com'
          }
        });
        const data = await res.json();
        console.log(data);

        // Extract teams
        const team1 = data.scoreCard[0];
        const team2 = data.scoreCard[1];

        // Team 1
        document.getElementById('team1-name').innerText = team1.batTeamDetails.batTeamName;
        document.getElementById('team1-score').innerText =
          `${team1.scoreDetails.runs}/${team1.scoreDetails.wickets} (${team1.scoreDetails.overs} overs)`;
        updateTable('team1', team1.batTeamDetails.batsmenData, team1.bowlTeamDetails.bowlersData);

        // Team 2
        document.getElementById('team2-name').innerText = team2.batTeamDetails.batTeamName;
        document.getElementById('team2-score').innerText =
          `${team2.scoreDetails.runs}/${team2.scoreDetails.wickets} (${team2.scoreDetails.overs} overs)`;
        updateTable('team2', team2.batTeamDetails.batsmenData, team2.bowlTeamDetails.bowlersData);

        // Match status
        document.getElementById('match-status').innerText = data.matchHeader?.status || 'Match in progress';

      } catch (err) {
        
        document.getElementById('match-status').innerText = 'Failed to load data';
      }
    }

    function updateTable(prefix, batting, bowling) {
      let bt = '<tr><th>Batsman</th><th>R</th><th>B</th><th>4s</th><th>6s</th><th>SR</th></tr>';
      let bw = '<tr><th>Bowler</th><th>O</th><th>R</th><th>W</th><th>Econ</th></tr>';

      batting.forEach(p => {
        bt += `<tr><td>${p.batName}</td><td>${p.runs}</td><td>${p.balls}</td>
               <td>${p.fours}</td><td>${p.sixes}</td><td>${p.strikeRate}</td></tr>`;
      });

      bowling.forEach(p => {
        bw += `<tr><td>${p.bowlName}</td><td>${p.overs}</td><td>${p.runs}</td>
               <td>${p.wickets}</td><td>${p.economy}</td></tr>`;
      });

      document.getElementById(`${prefix}-batting`).innerHTML = bt;
      document.getElementById(`${prefix}-bowling`).innerHTML = bw;
    }

    // Load on page load + auto refresh
    loadScorecard();
    setInterval(loadScorecard, 60000); // Refresh every 1 min
  </script>
</body>
</html>
